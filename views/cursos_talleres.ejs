<!DOCTYPE html>
<html lang="es">

<%- include('front-end-template/head', { tituloWeb: "Edufal Online - Cursos & Talleres" }); %>

    <%- include('front-end-template/navbar'); %>


        <body>

            <div class="d-flex align-items-center" style="background-image: url(/img/img-cursos/background-cabecera-ver-todos-cursos.png); background-repeat: no-repeat; background-position: center; background-size: cover; height: 440px; box-shadow: 0px 15px 15px rgba(0, 0, 0, 0.2);">
                <div class="container mt-4 ">
                    <p data-aos="fade-down-left" class="" style="background-color: green; padding: 5px; border-radius: 10px; display: inline; color: white;">
                        CLASES ONLINE
                    </p>

                    <div class="pt-5 fs-5">
                        <h1 data-aos="fade-right" class="text-center"><strong style="color: #005d6a;">CURSOS &
                                TALLERES</strong>

                        </h1>



                    </div>
                    <div class="pb-5" style="color: #08787a;">
                        <h1><strong>

                                <%= %>
                            </strong>

                        </h1>


                    </div>
                    <!-- <div class="pb-5" style="padding: #08787a;"><button class="btn btn-dark btn-lg" type="submit"
                            data-bs-toggle="modal" data-bs-target="#exampleModalNovedad">Quiero
                            Inscribirme</button>

                    </div> -->
                </div>
            </div>



            <div class="mt-2 container">

                <nav aria-label="breadcrumb " class="">
                    <ol class="breadcrumb" style="">
                        <li class="breadcrumb-item "><a href="/" class="text-decoration-none">Inicio</a></li>

                        <li class="breadcrumb-item active" aria-current="page">
                            Cursos Talleres
                        </li>
                    </ol>
                </nav>
                <hr>
            </div>


            <!-- nuevo carousel -->
            <!-- <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css'> -->
            <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.css'>
            <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>



            <!-- filtro de busqueda -->
            <div class="container">
                <div class="d-flex justify-content-end align-items-baseline">

                    <label for="filtroBusqueda" class="text-truncate me-2">Buscar cursos por título</label>
                    <div class="mb-4 d-flex">
                        <input type="text" class="form-control" id="filtroBusqueda">
                        <button type="button" class="btn btn-primary d-inline" onclick="filtrarCursos()">Buscar</button>
                    </div>
                </div>
                <!-- Botones para filtrar por tipo_curso -->
                <div class="mb-4">
                    <button type="button" class="btn btn-outline-secondary btn-sm" onclick="filtrarPorTipo('CURSO')">CURSO</button>
                    <button type="button" class="btn btn-outline-secondary btn-sm" onclick="filtrarPorTipo('TALLER')">TALLER</button>
                    <button type="button" class="btn btn-outline-secondary btn-sm" onclick="filtrarPorTipo('DIPLOMADO')">DIPLOMADO</button>
                    <!-- <button type="button" class="btn btn-secondary btn-sm" onclick="verTodos()">Ver todo</button> -->
                    <button type="button" class="btn btn-secondary btn-sm" onclick="ocultarTodos()">Limpiar
                        Busqueda</button>
                </div>
            </div>

            <!-- cursos filtrados por busqueda -->
            <div class="container-fluid d-flex justify-content-center " style="max-width: 2020px;">
                <div class=" d-sm-flex flex-wrap justify-content-center">
                    <% if (arrayCursos.length> 0) { %>
                        <% arrayCursos.forEach(curso=> { %>

                            <% var ahora=new Date().getTime(); %>
                                <% var diferencia=curso.fecha_oferta - ahora; %>


                                    <!-- Nueva card inicio  -->
                                    <div class="post-slide curso-card-busqueda card" style="max-width: 19rem; border-radius: 10px;">
                                        <div class="post-img">
                                            <img src="<%= curso.url_imagen %>" alt="">
                                            <a href="/cursos_talleres/ver_curso_taller/<%= curso.titulo_curso %>" class="over-layer"><i class="fa fa-link"></i></a>
                                        </div>
                                        <div class="post-content">
                                            <h3 class="post-title card-title">
                                                <a href="/cursos_talleres/ver_curso_taller/<%= curso.titulo_curso %>"><strong
                                                        class="card-title">
                                                        <%= curso.titulo_curso %>
                                                    </strong>

                                                </a>
                                            </h3>
                                            <p class="post-description">
                                                <%= curso.descripcion %>
                                            </p>
                                            <span class="post-date"><i
                                                    class="fa fa-clock-o"></i><strong>Inicio:</strong>
                                                <%= curso.fecha_inicio %>
                                            </span>
                                            <div class="card-header" style="background-color: white; border: none;">
                                                <strong>
                                                    <%= curso.tipo_curso %>
                                                </strong>
                                            </div>
                                            <div>

                                                <a href="/cursos_talleres/ver_curso_taller/<%= curso.titulo_curso %>" class="read-more">Ver mas</a>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Nueva card fin  -->




                                    <% }) %>
                                        <% } %>
                </div>


            </div>

            <div class="container-fluid " style="max-width: 2020px">
                <hr>
                <h1>Desarrollo de software y programacion</h1>
            </div>
            <div class="container-fluid" style="max-width: 2020px; margin-top: 90px;">
                <div class="row">
                    <div class="col-md-12">
                        <div id="news-slider-categoria-1" class="owl-carousel">
                            <% if (arrayCursosCategoria1.length> 0) { %>
                                <% arrayCursosCategoria1.forEach(curso=> { %>
                                    <% var ahora=new Date().getTime(); %>
                                        <% var diferencia=curso.fecha_oferta - ahora; %>
                                            <div class="post-slide1 d-flex justify-content-center ">
                                                <div class="transUp card bg-light mb-3 curso-card p-0 m-3 " style="max-width: 19rem; border-radius: 10px;">
                                                    <div class="card-header" style="background-color: white; border: none;">
                                                        <strong>
                                                            <%= curso.tipo_curso %>
                                                        </strong>
                                                    </div>
                                                    <div class="curso-item">
                                                        <a href="/cursos_talleres/ver_curso_taller/<%= curso.titulo_curso %>">
                                                            <img class="curso-imagen" src="<%= curso.url_imagen %>"
                                                                alt="">
                                                        </a>
                                                    </div>
                                                    <div class="card-body">
                                                        <h5 class="card-title">
                                                            <strong>
                                                                <%= curso.titulo_curso %>
                                                            </strong>
                                                        </h5>
                                                        <p class="card-text">
                                                            <%= curso.descripcion %>
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <div style="margin-left: 15px;">
                                                            <h6><del style="margin-right: 10px;">
                                                                    $ <%= curso.costo %>
                                                                </del>
                                                                <% if (diferencia < 0 ||
                                                                    curso.fecha_oferta=='0000-00-00 00:00:00' ) { %>
                                                                    <strong style="color: red;">
                                                                        <%= curso.porcentaje_descuento.slice(2, ) %>%
                                                                            OFF
                                                                    </strong>
                                                                    <% } else { %>
                                                                        <strong style="color: red;">
                                                                            100% OFF
                                                                        </strong>
                                                                        <p>
                                                                            Por tiempo LIMITADO
                                                                        </p>
                                                                        <% } %>

                                                            </h6>
                                                            <del class="d-none">
                                                                <%= Math.abs(curso.costo=curso.costo *
                                                                    curso.porcentaje_descuento - curso.costo) %>
                                                            </del>
                                                            <% if (diferencia < 0 ||
                                                                curso.fecha_oferta=='0000-00-00 00:00:00' ) { %>
                                                                <h5 style="color: #005d6a;"><strong>

                                                                        Precio: <%=
                                                                            curso.costo=Intl.NumberFormat('en-EN', {
                                                                            style: 'currency' , currency: 'USD'
                                                                            }).format(Math.abs(curso.costo)) %>
                                                                    </strong>
                                                                </h5>
                                                                <% }else { %>

                                                                    <h5 style="color: #005d6a;"><strong>
                                                                            Precio: GRATIS
                                                                        </strong>
                                                                    </h5>
                                                                    <% } %>
                                                                        <p style="font-size: small;"><i class="bi bi-stopwatch me-1"></i>
                                                                            <%= curso.duracion %> de clases -
                                                                                <del class="d-none">
                                                                                    <%= sesiones=curso.duracion %>
                                                                                </del><i class="bi bi-calendar3 me-1"></i>
                                                                                <%= sesiones.slice(0, 3)/2 %> Secciones
                                                                                    <% console.log('seciones' +
                                                                                        sesiones.slice(0, 3)/2) %>
                                                                        </p>
                                                        </div>
                                                        <% if (diferencia < 0 ||
                                                            curso.fecha_oferta=='0000-00-00 00:00:00' ) { %>
                                                            <p style="color: gray; text-align: center; font-size: small;">
                                                                Garantía de reembolso de 30 días</p>
                                                            <% }else { %>
                                                                <p style="color: gray; text-align: center; font-size: small;">
                                                                    Incluye certificado digital o fisico.</p>
                                                                <% } %>
                                                                    <div class="btn-group d-flex ">
                                                                        <a href="/cursos_talleres/ver_curso_taller/<%= curso.titulo_curso %>" type="button" class="btn btn-secondary ">
                                                                            Mas informacion
                                                                        </a>
                                                                    </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <% }) %>
                                                <% } %>




                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid " style="max-width: 2020px">
                <hr>
                <h1>Negocios y emprendimiento</h1>
            </div>
            <div class="container-fluid" style="max-width: 2020px; margin-top: 90px;">
                <div class="row">
                    <div class="col-md-12">
                        <div id="news-slider-categoria-2" class="owl-carousel">
                            <% if (arrayCursosCategoria2.length> 0) { %>
                                <% arrayCursosCategoria2.forEach(curso=> { %>
                                    <% var ahora=new Date().getTime(); %>
                                        <% var diferencia=curso.fecha_oferta - ahora; %>
                                            <div class="post-slide1 d-flex justify-content-center ">
                                                <div class="transUp card bg-light mb-3 curso-card p-0 m-3 " style="max-width: 19rem; border-radius: 10px;">
                                                    <div class="card-header" style="background-color: white; border: none;">
                                                        <strong>
                                                            <%= curso.tipo_curso %>
                                                        </strong>
                                                    </div>
                                                    <div class="curso-item">
                                                        <a href="/cursos_talleres/ver_curso_taller/<%= curso.titulo_curso %>">
                                                            <img class="curso-imagen" src="<%= curso.url_imagen %>"
                                                                alt="">
                                                        </a>
                                                    </div>
                                                    <div class="card-body">
                                                        <h5 class="card-title">
                                                            <strong>
                                                                <%= curso.titulo_curso %>
                                                            </strong>
                                                        </h5>
                                                        <p class="card-text">
                                                            <%= curso.descripcion %>
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <div style="margin-left: 15px;">
                                                            <h6><del style="margin-right: 10px;">
                                                                    $ <%= curso.costo %>
                                                                </del>
                                                                <% if (diferencia < 0 ||
                                                                    curso.fecha_oferta=='0000-00-00 00:00:00' ) { %>
                                                                    <strong style="color: red;">
                                                                        <%= curso.porcentaje_descuento.slice(2, ) %>%
                                                                            OFF
                                                                    </strong>
                                                                    <% } else { %>
                                                                        <strong style="color: red;">
                                                                            100% OFF
                                                                        </strong>
                                                                        <p>
                                                                            Por tiempo LIMITADO
                                                                        </p>
                                                                        <% } %>

                                                            </h6>
                                                            <del class="d-none">
                                                                <%= Math.abs(curso.costo=curso.costo *
                                                                    curso.porcentaje_descuento - curso.costo) %>
                                                            </del>
                                                            <% if (diferencia < 0 ||
                                                                curso.fecha_oferta=='0000-00-00 00:00:00' ) { %>
                                                                <h5 style="color: #005d6a;"><strong>

                                                                        Precio: <%=
                                                                            curso.costo=Intl.NumberFormat('en-EN', {
                                                                            style: 'currency' , currency: 'USD'
                                                                            }).format(Math.abs(curso.costo)) %>
                                                                    </strong>
                                                                </h5>
                                                                <% }else { %>

                                                                    <h5 style="color: #005d6a;"><strong>
                                                                            Precio: GRATIS
                                                                        </strong>
                                                                    </h5>
                                                                    <% } %>
                                                                        <p style="font-size: small;"><i class="bi bi-stopwatch me-1"></i>
                                                                            <%= curso.duracion %> de clases -
                                                                                <del class="d-none">
                                                                                    <%= sesiones=curso.duracion %>
                                                                                </del><i class="bi bi-calendar3 me-1"></i>
                                                                                <%= sesiones.slice(0, 3)/2 %> Secciones
                                                                                    <% console.log('seciones' +
                                                                                        sesiones.slice(0, 3)/2) %>
                                                                        </p>
                                                        </div>
                                                        <% if (diferencia < 0 ||
                                                            curso.fecha_oferta=='0000-00-00 00:00:00' ) { %>
                                                            <p style="color: gray; text-align: center; font-size: small;">
                                                                Garantía de reembolso de 30 días</p>
                                                            <% }else { %>
                                                                <p style="color: gray; text-align: center; font-size: small;">
                                                                    Incluye certificado digital o fisico.</p>
                                                                <% } %>
                                                                    <div class="btn-group d-flex ">
                                                                        <a href="/cursos_talleres/ver_curso_taller/<%= curso.titulo_curso %>" type="button" class="btn btn-secondary ">
                                                                            Mas informacion
                                                                        </a>
                                                                    </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <% }) %>
                                                <% } %>










                        </div>
                    </div>
                </div>
            </div>





            <script src='https://code.jquery.com/jquery-1.12.0.min.js'></script>
            <script src='https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.js'></script>

            <script>
                $(document).ready(function() {
                    $("#news-slider-categoria-1").owlCarousel({
                        items: 5,
                        itemsDesktop: [1199, 3],
                        itemsDesktopSmall: [980, 2],
                        itemsMobile: [600, 1],
                        navigation: true,
                        navigationText: ["", ""],
                        pagination: true,
                        autoPlay: true
                    });

                });
            </script>
            <script>
                $(document).ready(function() {
                    $("#news-slider-categoria-2").owlCarousel({
                        items: 5,
                        itemsDesktop: [1199, 3],
                        itemsDesktopSmall: [980, 2],
                        itemsMobile: [600, 1],
                        navigation: true,
                        navigationText: ["", ""],
                        pagination: true,
                        autoPlay: true
                    });

                });
            </script>







            <!-- paginacion script -->
            <script>
                // Definir objeto para la paginación
                var paginacion = {
                    cursosPorPagina: 5,
                    paginaActual: 1,
                    totalPaginas: Math.ceil(<%= arrayCursos.length %> / 5),
                    // Asumiendo 10 como valor inicial

                    mostrarPagina: function(pagina) {
                        this.paginaActual = pagina;
                        var inicio = (pagina - 1) * this.cursosPorPagina;
                        var fin = inicio + this.cursosPorPagina;

                        var cursos = document.getElementsByClassName('curso-card');
                        for (var i = 0; i < cursos.length; i++) {
                            cursos[i].style.display = (i >= inicio && i < fin) ? 'block' : 'none';
                        }

                        this.actualizarInfoPaginacion();
                    },

                    cambiarElementosPorPagina: function() {
                        this.cursosPorPagina = parseInt(document.getElementById('elementosPorPagina').value);
                        this.totalPaginas = Math.ceil(<%= arrayCursos.length %> / this.cursosPorPagina);
                        this.mostrarPagina(1);
                    },

                    cambiarPagina: function(direccion) {
                        if (direccion === 'anterior' && this.paginaActual > 1) {
                            this.mostrarPagina(this.paginaActual - 1);
                        } else if (direccion === 'siguiente' && this.paginaActual < this.totalPaginas) {
                            this.mostrarPagina(this.paginaActual + 1);
                        }
                    },

                    actualizarInfoPaginacion: function() {
                        document.getElementById('paginaActual').innerText = this.paginaActual;
                        document.getElementById('totalPaginas').innerText = this.totalPaginas;
                    },

                    // Método para inicializar la paginación
                    inicializar: function() {
                        // Crear botones de paginación
                        var botonesPagina = document.getElementById('botonesPagina');
                        for (var i = 1; i <= this.totalPaginas; i++) {
                            var boton = document.createElement('button');
                            boton.type = 'button';
                            boton.className = 'btn btn-secondary';
                            boton.innerText = i;
                            boton.onclick = (function(pagina) {
                                return function() {
                                    paginacion.mostrarPagina(pagina);
                                };
                            })(i);
                            botonesPagina.appendChild(boton);
                        }

                        // Mostrar la primera página al cargar la página
                        this.mostrarPagina(1);
                    }
                };

                // Inicializar la paginación
                paginacion.inicializar();
            </script>

            <!-- Paginación -->
            <div class="container">


                <div class="mt-4">
                    <span>Mostrando página <span id="paginaActual">1</span> de <span id="totalPaginas">1</span></span>
                    <span class="mx-3"> | </span>
                    <label for="elementosPorPagina">Elementos por página:</label>
                    <select id="elementosPorPagina" onchange="paginacion.cambiarElementosPorPagina()">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="30">30</option>
                    </select>

                    <button type="button" class="btn btn-secondary mx-2" onclick="paginacion.cambiarPagina('anterior')">Anterior</button>
                    <button type="button" class="btn btn-secondary mx-2" onclick="paginacion.cambiarPagina('siguiente')">Siguiente</button>

                    <div class="btn-group" id="botonesPagina">
                        <!-- Botones de paginación se agregarán aquí -->
                    </div>
                </div>
            </div>


            <script>
                // Ocultar la clase 'curso-card-busqueda' inicialmente
                document.addEventListener("DOMContentLoaded", function() {
                    var cursos = document.getElementsByClassName('curso-card-busqueda');
                    for (var i = 0; i < cursos.length; i++) {
                        cursos[i].style.display = 'none';
                    }
                });

                function filtrarCursos() {
                    // Obtén el valor del campo de búsqueda
                    var filtro = document.getElementById('filtroBusqueda').value.toLowerCase();

                    // Obtén todos los elementos de curso
                    var cursos = document.getElementsByClassName('curso-card-busqueda');

                    // Itera sobre los elementos de curso y muestra/oculta según el filtro
                    for (var i = 0; i < cursos.length; i++) {
                        var tituloCurso = cursos[i].querySelector('.card-title strong').innerText.toLowerCase();
                        if (tituloCurso.includes(filtro)) {
                            cursos[i].style.display = 'block'; // Muestra el curso
                        } else {
                            cursos[i].style.display = 'none'; // Oculta el curso
                        }
                    }
                }

                function ocultarTodos() {
                    // Oculta todos los elementos con la clase 'curso-card-busqueda'
                    var cursos = document.getElementsByClassName('curso-card-busqueda');
                    for (var i = 0; i < cursos.length; i++) {
                        cursos[i].style.display = 'none';
                    }
                }
            </script>

            <script>
                function filtrarPorTipo(tipo) {
                    // Obtén todos los elementos de curso
                    var cursos = document.getElementsByClassName('curso-card-busqueda');

                    // Restablecer la visibilidad de todos los cursos
                    for (var i = 0; i < cursos.length; i++) {
                        cursos[i].style.display = 'block';
                    }

                    // Iterar sobre los elementos de curso y mostrar/ocultar según el tipo
                    for (var i = 0; i < cursos.length; i++) {
                        var tipoCurso = cursos[i].querySelector('.card-header strong').innerText;
                        if (tipoCurso !== tipo) {
                            cursos[i].style.display = 'none'; // Oculta el curso si no es del tipo seleccionado
                        }
                    }
                }

                function verTodos() {
                    // Obtén todos los elementos de curso y restablece la visibilidad
                    var cursos = document.getElementsByClassName('curso-card-busqueda');
                    for (var i = 0; i < cursos.length; i++) {
                        cursos[i].style.display = 'block';
                    }
                }
            </script>






            <%- include('front-end-template/footer'); %>



                <script src="/js/scriptSlide.js"></script>
                <script src="/js/anuncios-inicio-event.js"></script>

                <script>
                    AOS.init({
                        duration: 1000
                    });
                </script>






        </body>




</html>